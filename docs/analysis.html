<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>xxx’ Project Lab - Analysis</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">xxx’ Project Lab</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./data.html" rel="" target="">
 <span class="menu-text">Data</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./analysis.html" rel="" target="" aria-current="page">
 <span class="menu-text">Analysis</span></a>
  </li>  
</ul>
            <div class="quarto-navbar-tools ms-auto">
    <a href="https://twitter.com" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Analysis</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<p>About this site</p>
<p>print(final_data)</p>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(readxl)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'dplyr'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:stats':

    filter, lag</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    intersect, setdiff, setequal, union</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyr)</span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(zoo)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>
Attaching package: 'zoo'</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>The following objects are masked from 'package:base':

    as.Date, as.Date.numeric</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="co">#1st DATASET</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>data_literate <span class="ot">&lt;-</span> <span class="fu">read_xls</span>(<span class="st">"Population_by_literacy_and_gender.xls"</span>, <span class="at">col_names =</span> <span class="cn">TRUE</span>, <span class="at">range =</span> <span class="st">"A4:Q27"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...1`
• `` -&gt; `...2`</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>data_literate_t <span class="ot">&lt;-</span> <span class="fu">t</span>(data_literate)</span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>data_literate_percentage <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(data_literate_t[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="fu">c</span>(<span class="dv">16</span>,<span class="dv">17</span>)])</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>data_literate_end <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(data_literate_percentage, <span class="st">"Year"</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data_literate_end)[<span class="dv">2</span><span class="sc">:</span><span class="dv">3</span>] <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Literate(%)"</span>, <span class="st">"Illiterate(%)"</span>)</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a><span class="co">#2nd DATASET</span></span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>data_population <span class="ot">&lt;-</span> <span class="fu">read_xls</span>(<span class="st">"Population.xls"</span>, <span class="at">col_names =</span> <span class="cn">TRUE</span>, <span class="at">range =</span> <span class="st">"A4:AA45"</span>)</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a>data_population_clean <span class="ot">&lt;-</span> data_population[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">21</span>,<span class="dv">22</span>,<span class="dv">24</span>,<span class="dv">25</span>,<span class="dv">26</span>), <span class="sc">-</span><span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">12</span>)]</span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a>data_population_clean_t <span class="ot">&lt;-</span> <span class="fu">t</span>(data_population_clean)</span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data_population_clean_t) <span class="ot">&lt;-</span> data_population_clean_t[<span class="dv">1</span>,<span class="dv">1</span><span class="sc">:</span><span class="dv">32</span>]</span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>data_population_clean_t <span class="ot">&lt;-</span> data_population_clean_t[<span class="sc">-</span><span class="dv">1</span>,]</span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a>data_population_clean_t_sum <span class="ot">&lt;-</span> data_population_clean_t</span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span><span class="dv">16</span>){</span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>  data_population_clean_t_sum[,i] <span class="ot">&lt;-</span> <span class="fu">as.numeric</span>(data_population_clean_t[,i]) <span class="sc">+</span> <span class="fu">as.numeric</span>(data_population_clean_t[,(i<span class="sc">+</span><span class="dv">16</span>)])</span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>data_population_clean_t_sum <span class="ot">&lt;-</span> data_population_clean_t_sum[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">17</span><span class="sc">:</span><span class="dv">32</span>)]</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>data_population_clean_t_sum[,<span class="st">"15-19"</span>] <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">as.numeric</span>(data_population_clean_t_sum[,<span class="st">"15-19"</span>]) <span class="sc">*</span> <span class="dv">2</span> <span class="sc">/</span> <span class="dv">5</span>)</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data_population_clean_t_sum)[<span class="fu">colnames</span>(data_population_clean_t_sum) <span class="sc">==</span> <span class="st">"15-19"</span>] <span class="ot">&lt;-</span> <span class="st">"18-19"</span></span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a>data_population_by_age <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(data_population_clean_t_sum)</span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>data_population_by_age <span class="ot">&lt;-</span> data_population_by_age <span class="sc">|&gt;</span> <span class="fu">mutate</span>(<span class="st">"18-24"</span> <span class="ot">=</span> <span class="fu">as.numeric</span>(data_population_by_age[,<span class="dv">2</span>]) <span class="sc">+</span> <span class="fu">as.numeric</span>(data_population_by_age[,<span class="dv">3</span>])) <span class="sc">|&gt;</span> </span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">"25-34"</span> <span class="ot">=</span> <span class="fu">as.numeric</span>(data_population_by_age[,<span class="dv">4</span>]) <span class="sc">+</span> <span class="fu">as.numeric</span>(data_population_by_age[,<span class="dv">5</span>])) <span class="sc">|&gt;</span></span>
<span id="cb10-25"><a href="#cb10-25" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">"35-44"</span> <span class="ot">=</span> <span class="fu">as.numeric</span>(data_population_by_age[,<span class="dv">6</span>]) <span class="sc">+</span> <span class="fu">as.numeric</span>(data_population_by_age[,<span class="dv">7</span>])) <span class="sc">|&gt;</span></span>
<span id="cb10-26"><a href="#cb10-26" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">"45-54"</span> <span class="ot">=</span> <span class="fu">as.numeric</span>(data_population_by_age[,<span class="dv">8</span>]) <span class="sc">+</span> <span class="fu">as.numeric</span>(data_population_by_age[,<span class="dv">9</span>])) <span class="sc">|&gt;</span></span>
<span id="cb10-27"><a href="#cb10-27" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">"55-64"</span> <span class="ot">=</span> <span class="fu">as.numeric</span>(data_population_by_age[,<span class="dv">10</span>]) <span class="sc">+</span> <span class="fu">as.numeric</span>(data_population_by_age[,<span class="dv">11</span>])) <span class="sc">|&gt;</span></span>
<span id="cb10-28"><a href="#cb10-28" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="st">"65+"</span> <span class="ot">=</span> <span class="fu">as.numeric</span>(data_population_by_age[,<span class="dv">12</span>]) <span class="sc">+</span> <span class="fu">as.numeric</span>(data_population_by_age[,<span class="dv">13</span>]) <span class="sc">+</span> <span class="fu">as.numeric</span>(data_population_by_age[,<span class="dv">14</span>]) <span class="sc">+</span> <span class="fu">as.numeric</span>(data_population_by_age[,<span class="dv">15</span>]) <span class="sc">+</span> <span class="fu">as.numeric</span>(data_population_by_age[,<span class="dv">16</span>]))</span>
<span id="cb10-29"><a href="#cb10-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-30"><a href="#cb10-30" aria-hidden="true" tabindex="-1"></a>data_population_by_age <span class="ot">&lt;-</span> data_population_by_age[,<span class="sc">-</span><span class="fu">c</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">16</span>)]</span>
<span id="cb10-31"><a href="#cb10-31" aria-hidden="true" tabindex="-1"></a>column_names <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">"Pop(Total)"</span>, <span class="st">"Pop(18-24)"</span>, <span class="st">"Pop(25-34)"</span>, <span class="st">"Pop(35-44)"</span>, <span class="st">"Pop(45-54)"</span>, <span class="st">"Pop(55-64)"</span>, <span class="st">"Pop(65+)"</span>)</span>
<span id="cb10-32"><a href="#cb10-32" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data_population_by_age) <span class="ot">&lt;-</span> column_names</span>
<span id="cb10-33"><a href="#cb10-33" aria-hidden="true" tabindex="-1"></a>data_population_end <span class="ot">&lt;-</span> tibble<span class="sc">::</span><span class="fu">rownames_to_column</span>(data_population_by_age, <span class="st">"Year"</span>)</span>
<span id="cb10-34"><a href="#cb10-34" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-35"><a href="#cb10-35" aria-hidden="true" tabindex="-1"></a><span class="co">#3rd DATASET</span></span>
<span id="cb10-36"><a href="#cb10-36" aria-hidden="true" tabindex="-1"></a>data_happiness <span class="ot">&lt;-</span> <span class="fu">read_xls</span>(<span class="st">"Happiness-Age.xls"</span>, <span class="at">col_names =</span> <span class="cn">TRUE</span>, <span class="at">range =</span> <span class="st">"A5:H85"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stderr">
<pre><code>New names:
• `` -&gt; `...2`</code></pre>
</div>
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>data_happiness_no_Na <span class="ot">&lt;-</span> data_happiness[<span class="sc">-</span><span class="fu">c</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">21</span>, <span class="dv">25</span>, <span class="dv">29</span>, <span class="dv">33</span>, <span class="dv">37</span>, <span class="dv">41</span>, <span class="dv">45</span>, <span class="dv">49</span>, <span class="dv">53</span>, <span class="dv">57</span>, <span class="dv">61</span>, <span class="dv">65</span>, <span class="dv">69</span>, <span class="dv">73</span>, <span class="dv">77</span>),]</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>data_happiness_no_Na <span class="ot">&lt;-</span> <span class="fu">na.locf</span>(data_happiness_no_Na, <span class="at">fromLast =</span> <span class="cn">FALSE</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a>data_happiness_no_Na_wider <span class="ot">&lt;-</span> data_happiness_no_Na <span class="sc">|&gt;</span> <span class="fu">gather</span>(<span class="at">key =</span> <span class="st">"Age"</span>, <span class="at">value =</span> <span class="st">"Percentage"</span>, <span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">5</span>,<span class="dv">6</span>,<span class="dv">7</span>,<span class="dv">8</span>) <span class="sc">|&gt;</span> <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="st">"Age"</span>), <span class="at">values_from =</span> <span class="st">"Percentage"</span>)</span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>column_names_happiness <span class="ot">&lt;-</span> <span class="fu">as.character</span>(<span class="fu">c</span>(<span class="st">"Year"</span>, <span class="st">"Happy(18-24)(%)"</span>, <span class="st">"Neutral(18-24)(%)"</span>, <span class="st">"Unhappy(18-24)(%)"</span>, <span class="st">"Happy(25-34)(%)"</span>, <span class="st">"Neutral(25-34)(%)"</span>, <span class="st">"Unhappy(25-34)(%)"</span>, <span class="st">"Happy(35-44)(%)"</span>, <span class="st">"Neutral(35-44)(%)"</span>, <span class="st">"Unhappy(35-44)(%)"</span>, <span class="st">"Happy(45-54)(%)"</span>, <span class="st">"Neutral(45-54)(%)"</span>, <span class="st">"Unhappy(45-54)(%)"</span>, <span class="st">"Happy(55-64)(%)"</span>, <span class="st">"Neutral(55-64)(%)"</span>, <span class="st">"Unhappy(55-64)(%)"</span>, <span class="st">"Happy(65+)(%)"</span>, <span class="st">"Neutral(65+)(%)"</span>, <span class="st">"Unhappy(65+)(%)"</span>))</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a><span class="fu">colnames</span>(data_happiness_no_Na_wider) <span class="ot">&lt;-</span> column_names_happiness</span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a>data_happiness_end <span class="ot">&lt;-</span> data_happiness_no_Na_wider</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>data_happiness_end<span class="sc">$</span>Year <span class="ot">&lt;-</span> <span class="fu">as.character</span>(data_happiness_end<span class="sc">$</span>Year)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Final DATASET</span></span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>literate_population <span class="ot">&lt;-</span> <span class="fu">left_join</span>(data_literate_end, data_population_end, <span class="at">by =</span> <span class="st">"Year"</span>)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>literate_population_happiness <span class="ot">&lt;-</span> <span class="fu">left_join</span>(literate_population, data_happiness_end, <span class="at">by =</span> <span class="st">"Year"</span>)</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>final_data <span class="ot">&lt;-</span> literate_population_happiness <span class="sc">|&gt;</span> <span class="fu">relocate</span>(<span class="st">"Pop(Total)"</span>, <span class="at">.after =</span> <span class="dv">28</span>)<span class="sc">|&gt;</span> </span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="st">"Pop(18-24)"</span>, <span class="at">.before =</span> <span class="st">"Happy(18-24)(%)"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="st">"Pop(25-34)"</span>, <span class="at">.before =</span> <span class="st">"Happy(25-34)(%)"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="st">"Pop(35-44)"</span>, <span class="at">.before =</span> <span class="st">"Happy(35-44)(%)"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="st">"Pop(45-54)"</span>, <span class="at">.before =</span> <span class="st">"Happy(45-54)(%)"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="st">"Pop(55-64)"</span>, <span class="at">.before =</span> <span class="st">"Happy(55-64)(%)"</span>) <span class="sc">|&gt;</span> </span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>  <span class="fu">relocate</span>(<span class="st">"Pop(65+)"</span>, <span class="at">.before =</span> <span class="st">"Happy(65+)(%)"</span>)</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-22"><a href="#cb12-22" aria-hidden="true" tabindex="-1"></a><span class="fu">save</span>(final_data, <span class="at">file =</span> <span class="st">"final_data.RData"</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
</div>
<div class="cell">
<details>
<summary>Code</summary>
<div class="sourceCode cell-code" id="cb13"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(final_data)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-stdout">
<pre><code>   Year        Literate(%)      Illiterate(%) Pop(18-24) Happy(18-24)(%)
1  2008 90.007406587375414 9.9925934126245828    8730600        59.09000
2  2009       9.081672e+01       9.183279e+00    8773965        57.41000
3  2010       9.266060e+01       7.339400e+00    8778710        63.93000
4  2011       9.410609e+01       5.893909e+00    8751624        69.50000
5  2012       9.491975e+01       5.080252e+00    8748310        64.60000
6  2013       9.525666e+01       4.743344e+00    8805113        65.09000
7  2014       9.543963e+01       4.560366e+00    8871028        61.20000
8  2015       9.560142e+01       4.398581e+00    8948367        63.78700
9  2016       9.587569e+01       4.124307e+00    9015051        65.13400
10 2017       9.615053e+01       3.849470e+00    9067145        61.30150
11 2018       9.641868e+01       3.581320e+00    9116836        55.35172
12 2019       9.674221e+01       3.257794e+00    9156716        56.67982
13 2020       9.695450e+01       3.045501e+00    9155682        47.14917
14 2021       9.714514e+01       2.854856e+00    9233464        44.48447
15 2022       9.731440e+01       2.685604e+00    9160752        47.90992
   Neutral(18-24)(%) Unhappy(18-24)(%) Pop(25-34) Happy(25-34)(%)
1           28.30000         12.600000   12328944        55.69000
2           31.45000         11.140000   12419892        55.92000
3           26.49000          9.580000   12647889        64.36000
4           25.00000          5.400000   12801867        62.00000
5           26.00000          9.400000   12815605        65.60000
6           26.82000          8.080000   12830001        60.29000
7           30.40000          8.400000   12789496        57.90000
8           28.41500          7.798000   12691399        58.60600
9           26.30100          8.565000   12556452        61.96100
10          29.90471          8.793788   12528466        58.57135
11          35.13875          9.509531   12609622        53.24284
12          33.75431          9.565878   12730328        52.04614
13          38.63200         14.218833   12689848        46.81024
14          35.10865         20.406887   12818686        46.57319
15          36.41563         15.674453   12868216        46.76606
   Neutral(25-34)(%) Unhappy(25-34)(%) Pop(35-44) Happy(35-44)(%)
1           31.81000          12.50000   10070734        52.90000
2           31.40000          12.68000   10181458        53.49000
3           26.32000           9.32000   10160840        57.49000
4           28.10000           9.90000   10403516        60.70000
5           27.30000           7.10000   10795237        58.50000
6           30.89000           8.81000   11134409        55.13000
7           32.90000           9.20000   11428673        52.10000
8           31.88100           9.51300   11755903        54.17800
9           28.70200           9.33800   12128650        58.22800
10          31.93865           9.49000   12301515        55.85570
11          36.39018          10.36698   12422098        50.74637
12          34.27075          13.68311   12552227        50.64638
13          38.13035          15.05941   12708693        45.37726
14          36.35105          17.07576   12933370        50.22658
15          36.63361          16.60033   12972770        47.93897
   Neutral(35-44)(%) Unhappy(35-44)(%) Pop(45-54) Happy(45-54)(%)
1           32.30000          14.80000    7927348        51.74000
2           33.20000          13.31000    8195696        51.31000
3           31.18000          11.34000    8406580        58.93000
4           30.30000           9.10000    8578520        59.70000
5           30.20000          11.30000    8738619        55.50000
6           33.76000          11.11000    8954555        54.49000
7           36.00000          11.90000    9112684        51.50000
8           33.98600          11.83500    9222988        51.66800
9           30.84700          10.92400    9504758        58.34400
10          33.27907          10.86522    9730609        53.08768
11          36.92331          12.33032   10012031        47.84929
12          37.16409          12.18953   10208932        49.70393
13          39.44927          15.17347   10148298        46.22153
14          33.48964          16.28378   10416745        48.75430
15          35.71641          16.34462   10818158        47.96122
   Neutral(45-54)(%) Unhappy(45-54)(%) Pop(55-64) Happy(55-64)(%)
1           32.54000          15.71000    5066402        56.93000
2           30.96000          17.73000    5306781        51.99000
3           29.23000          11.84000    5756267        61.28000
4           28.60000          11.70000    6020902        62.30000
5           32.10000          12.40000    6147100        59.30000
6           33.16000          12.35000    6315645        58.15000
7           32.70000          15.80000    6527278        54.80000
8           34.67000          13.66200    6789637        55.07000
9           30.74600          10.91000    7058684        62.30000
10          32.99353          13.91879    7337965        56.21379
11          36.42783          15.72288    7618202        55.65419
12          35.67746          14.61861    7944766        48.67123
13          38.46309          15.31538    8151981        48.99747
14          33.92495          17.32076    8319096        50.91547
15          35.72690          16.31188    8483812        52.49462
   Neutral(55-64)(%) Unhappy(55-64)(%) Pop(65+) Happy(65+)(%) Neutral(65+)(%)
1           28.40000          14.67000  4893423      61.60000        24.36000
2           29.22000          18.79000  5083414      54.27000        27.79000
3           27.82000          10.90000  5327736      60.03000        27.06000
4           26.40000          11.30000  5490715      57.80000        28.60000
5           29.00000          11.70000  5682003      60.30000        28.70000
6           28.88000          12.97000  5891694      63.36000        23.62000
7           31.30000          14.00000  6192962      62.80000        24.60000
8           30.70100          14.22900  6495239      56.84000        30.74000
9           24.94200          12.75800  6651503      64.47600        25.03100
10          31.01922          12.76699  6895385      66.09250        22.94151
11          31.75922          12.58659  7186204      61.19950        26.75070
12          35.50906          15.81971  7550727      58.54024        29.23618
13          36.50081          14.50173  7953555      57.74405        30.43805
14          33.71747          15.36706  8245124      56.16328        30.82194
15          31.68412          15.82126  8451669      57.72237        28.60509
   Unhappy(65+)(%) Pop(Total)
1         14.03000   71517100
2         17.94000   72561312
3         12.92000   73722988
4         13.50000   74724269
5         11.10000   75627384
6         13.01000   76667864
7         12.60000   77695904
8         12.42000   78741053
9         10.49400   79814871
10        10.96599   80810525
11        12.04981   82003882
12        12.22358   83154997
13        11.81790   83614362
14        13.01478   84680273
15        13.67254   85279553</code></pre>
</div>
</div>



<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">Hacettepe IE - EMU 430 - Fall 2023</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>



</body></html>